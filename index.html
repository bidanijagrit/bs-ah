<!DOCTYPE html>
<html>
<head>
    <title>BusPath - Haryana Bus Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        /* Splash Screen */
        #splashScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a73e8;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        #splashScreen h1 {
            color: white;
            font-size: 2em;
            text-align: center;
        }

        /* Main App */
        #mainApp {
            display: none;
        }

        .header {
            background: #1a73e8;
            color: white;
            padding: 15px;
            text-align: center;
        }

        .search-container {
            padding: 15px;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        select {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        button {
            width: 100%;
            padding: 12px;
            background: #1a73e8;
            color: white;
            border: none;
            border-radius: 4px;
            margin-top: 10px;
            cursor: pointer;
        }

        #busList {
            padding: 15px;
        }

        .bus-card {
            background: white;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .bus-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .bus-details {
            display: flex;
            justify-content: space-between;
            color: #666;
        }

        #map {
            height: 300px;
            margin: 15px;
            display: none;
        }

        .track-btn {
            background: #34a853;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <!-- Splash Screen -->
    <div id="splashScreen">
        <h1>Welcome to BusPath</h1>
    </div>

    <!-- Main App -->
    <div id="mainApp">
        <div class="header">
            <h1>BusPath</h1>
        </div>

        <div class="search-container">
            <select id="fromDistrict">
                <option value="">Select Source District</option>
                <option value="ambala">Ambala</option>
                <option value="bhiwani">Bhiwani</option>
                <option value="charkhidadri">Charkhi Dadri</option>
                <option value="faridabad">Faridabad</option>
                <option value="fatehabad">Fatehabad</option>
                <option value="gurugram">Gurugram</option>
                <option value="hisar">Hisar</option>
                <option value="jhajjar">Jhajjar</option>
                <option value="jind">Jind</option>
                <option value="kaithal">Kaithal</option>
                <option value="karnal">Karnal</option>
                <option value="kurukshetra">Kurukshetra</option>
                <option value="mahendragarh">Mahendragarh</option>
                <option value="nuh">Nuh</option>
                <option value="palwal">Palwal</option>
                <option value="panchkula">Panchkula</option>
                <option value="panipat">Panipat</option>
                <option value="rewari">Rewari</option>
                <option value="rohtak">Rohtak</option>
                <option value="sirsa">Sirsa</option>
                <option value="sonipat">Sonipat</option>
                <option value="yamunanagar">Yamunanagar</option>
            </select>

            <select id="toDistrict">
                <option value="">Select Destination District</option>
                <option value="ambala">Ambala</option>
                <option value="bhiwani">Bhiwani</option>
                <option value="charkhidadri">Charkhi Dadri</option>
                <option value="faridabad">Faridabad</option>
                <option value="fatehabad">Fatehabad</option>
                <option value="gurugram">Gurugram</option>
                <option value="hisar">Hisar</option>
                <option value="jhajjar">Jhajjar</option>
                <option value="jind">Jind</option>
                <option value="kaithal">Kaithal</option>
                <option value="karnal">Karnal</option>
                <option value="kurukshetra">Kurukshetra</option>
                <option value="mahendragarh">Mahendragarh</option>
                <option value="nuh">Nuh</option>
                <option value="palwal">Palwal</option>
                <option value="panchkula">Panchkula</option>
                <option value="panipat">Panipat</option>
                <option value="rewari">Rewari</option>
                <option value="rohtak">Rohtak</option>
                <option value="sirsa">Sirsa</option>
                <option value="sonipat">Sonipat</option>
                <option value="yamunanagar">Yamunanagar</option>
            </select>

            <button onclick="searchBuses()">Search Buses</button>
        </div>

        <div id="busList"></div>
        <div id="map"></div>
    </div>

    <script>
        // District coordinates
        const districtCoords = {
            'ambala': { lat: 30.3752, lng: 76.7821 },
            'bhiwani': { lat: 28.7975, lng: 76.1322 },
            'charkhidadri': { lat: 28.5928, lng: 76.2718 },
            'faridabad': { lat: 28.4089, lng: 77.3178 },
            'fatehabad': { lat: 29.5155, lng: 75.4555 },
            'gurugram': { lat: 28.4595, lng: 77.0266 },
            'hisar': { lat: 29.1492, lng: 75.7217 },
            'jhajjar': { lat: 28.6062, lng: 76.6566 },
            'jind': { lat: 29.3164, lng: 76.3157 },
            'kaithal': { lat: 29.8056, lng: 76.3984 },
            'karnal': { lat: 29.6857, lng: 76.9905 },
            'kurukshetra': { lat: 29.9695, lng: 76.8783 },
            'mahendragarh': { lat: 28.2744, lng: 76.1498 },
            'nuh': { lat: 28.1083, lng: 77.0019 },
            'palwal': { lat: 28.1473, lng: 77.3260 },
            'panchkula': { lat: 30.6942, lng: 76.8606 },
            'panipat': { lat: 29.3909, lng: 76.9635 },
            'rewari': { lat: 28.1920, lng: 76.6190 },
            'rohtak': { lat: 28.8955, lng: 76.6066 },
            'sirsa': { lat: 29.5321, lng: 75.0318 },
            'sonipat': { lat: 28.9931, lng: 77.0151 },
            'yamunanagar': { lat: 30.1290, lng: 77.2674 }
        };

        let map;
        let currentBuses = [];
        let markers = [];
        let currentPath;

        // Initialize after page load
        window.onload = function() {
            // Show splash screen for 2 seconds
            setTimeout(() => {
                document.getElementById('splashScreen').style.display = 'none';
                document.getElementById('mainApp').style.display = 'block';
            }, 2000);

            // Initialize map
            map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 29.0588, lng: 76.0856 },
                zoom: 7
            });
        };

        // Search buses
        function searchBuses() {
            const from = document.getElementById('fromDistrict').value;
            const to = document.getElementById('toDistrict').value;

            if (!from || !to || from === to) {
                alert('Please select different source and destination districts');
                return;
            }

            // Generate random buses
            currentBuses = generateBuses(from, to);
            displayBuses(currentBuses);
            document.getElementById('map').style.display = 'none';
        }

        // Generate random buses
        function generateBuses(from, to) {
            const buses = [];
            const count = Math.floor(Math.random() * 3) + 2; // 2-4 buses

            for (let i = 0; i < count; i++) {
                buses.push({
                    id: 'HR-' + Math.floor(Math.random() * 9000 + 1000),
                    type: ['AC Volvo', 'Non-AC Deluxe', 'AC Semi-Deluxe'][Math.floor(Math.random() * 3)],
                    departure: generateRandomTime(),
                    arrival: generateRandomTime(),
                    fare: Math.floor(Math.random() * 500) + 200,
                    from: from,
                    to: to
                });
            }
            return buses;
        }

        // Display buses
        function displayBuses(buses) {
            const busListDiv = document.getElementById('busList');
            busListDiv.innerHTML = '';

            buses.forEach(bus => {
                const busCard = document.createElement('div');
                busCard.className = 'bus-card';
                busCard.innerHTML = `
                    <div class="bus-header">
                        <strong>${bus.id}</strong>
                        <span>${bus.type}</span>
                    </div>
                    <div class="bus-details">
                        <span>${bus.departure} → ${bus.arrival}</span>
                        <span>₹${bus.fare}</span>
                    </div>
                    <button class="track-btn" onclick="trackBus('${bus.id}')">Track Bus</button>
                `;
                busListDiv.appendChild(busCard);
            });
        }

        // Track bus
        function trackBus(busId) {
            const bus = currentBuses.find(b => b.id === busId);
            if (!bus) return;

            // Show map
            document.getElementById('map').style.display = 'block';

            // Clear previous markers and path
            markers.forEach(marker => marker.setMap(null));
            markers = [];
            if (currentPath) currentPath.setMap(null);

            // Add markers for source and destination
            const fromCoord = districtCoords[bus.from];
            const toCoord = districtCoords[bus.to];

            [fromCoord, toCoord].forEach((coord, i) => {
                const marker = new google.maps.Marker({
                    position: coord,
                    map: map,
                    title: i === 0 ? bus.from : bus.to
                });
                markers.push(marker);
            });

            // Draw path
            currentPath = new google.maps.Polyline({
                path: [fromCoord, toCoord],
                geodesic: true,
                strokeColor: '#1a73e8',
                strokeOpacity: 1.0,
                strokeWeight: 3
            });
            currentPath.setMap(map);

            // Fit map to show route
            const bounds = new google.maps.LatLngBounds();
            bounds.extend(fromCoord);
            bounds.extend(toCoord);
            map.fitBounds(bounds);
        }

        // Helper function to generate random time
        function generateRandomTime() {
            const hours = Math.floor(Math.random() * 24);
            const minutes = Math.floor(Math.random() * 60);
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
        }
    </script>
</body>
</html>